# Rasa классификатор

## Настройка NLU модуля

1. config.yml

Этот файл настраивает NLU-пайплайн для русского и английского языков, дополняя стандартный классификатор, указанный в этом файле, кастомными компонентами для различных целей, которые пользователь может добавить сам.

2. data/nlu.yml

Файл для добавления своих намерений сообщений, а также указаний примеров к ним. Возможно указание сущностей в сообщении. Основной файл, который использует модель для своего обучения.

3. replacements.yml

Файл, который используется одним из кастомных компонентов, для поиска замен слов. Например, если в сообщении будет слово "Бресте", то в результате классификации сообщения будет выделена сущность именно "Брест".

4. components

Папка, в которую пользователь может поместить свой кастомный компонент. Для его работы необходимо впоследствии указать этот компонент в config.yml

## Сборка классификатора

Для взаимодействия с классификатором необходимо перейти в папку с ним:

```sh
cd problem-solver/cxx/message-classification-module/rasa_classifier_model/
```

### Обучение классификатора

Для запуска процесса тренировки модели нужно запустить докер сервис:

```sh
docker compose build rasa-train
docker compose up rasa-train
```

### Тестирование классификатора

Тестирование требует наличие модели в папке models в папке классификатора. Для запуска процесса тестирования модели нужно запустить докер сервис:

```sh
docker compose build rasa-test
docker compose up rasa-test
```

Тестирование классификатора представляет собой процесс написания вопроса в консоль. На выходе будет ответ от классификатора в JSON формате.

## Запуск классификатора

Запуск классификатора необходимо производить из корневой папки проекта. Для запуска классификатора необходимо наличие уже обученной модели в папке models в папке классификатора. Если эта папка содержит 2 или более моделей, будет выбрана с самой поздней датой. Для запуска классификатора необходимо запустить докер сервис:
```sh
docker compose up rasa
```
